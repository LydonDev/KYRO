import{r as o,R as ae,p as ct,u as dt,j as r,L as Re,o as ce,m as H,B as A,s as ut,f as ft,t as Me}from"./main-D6weWVn6.js";import{D as Q,a as ee,b as te,c as ne,d as re,F as Se}from"./dialog-E-Y7NT0w.js";import{F as He}from"./TrashIcon-CRYsBrOY.js";import{F as Ee,a as Ue}from"./ExclamationCircleIcon-DxZzJXJ6.js";import{F as mt}from"./ArrowLeftIcon-CzYvxG5u.js";import{F as ht}from"./EllipsisVerticalIcon-Yt-jlAPq.js";function pt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v.75c0 1.036.84 1.875 1.875 1.875h17.25c1.035 0 1.875-.84 1.875-1.875v-.75C22.5 3.839 21.66 3 20.625 3H3.375Z"}),o.createElement("path",{fillRule:"evenodd",d:"m3.087 9 .54 9.176A3 3 0 0 0 6.62 21h10.757a3 3 0 0 0 2.995-2.824L20.913 9H3.087Zm6.163 3.75A.75.75 0 0 1 10 12h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const se=o.forwardRef(pt);function xt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const gt=o.forwardRef(xt);function wt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}))}const ke=o.forwardRef(wt);function vt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const yt=o.forwardRef(vt);function bt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M14.447 3.026a.75.75 0 0 1 .527.921l-4.5 16.5a.75.75 0 0 1-1.448-.394l4.5-16.5a.75.75 0 0 1 .921-.527ZM16.72 6.22a.75.75 0 0 1 1.06 0l5.25 5.25a.75.75 0 0 1 0 1.06l-5.25 5.25a.75.75 0 1 1-1.06-1.06L21.44 12l-4.72-4.72a.75.75 0 0 1 0-1.06Zm-9.44 0a.75.75 0 0 1 0 1.06L2.56 12l4.72 4.72a.75.75 0 0 1-1.06 1.06L.97 12.53a.75.75 0 0 1 0-1.06l5.25-5.25a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const ie=o.forwardRef(bt);function jt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M7.5 3.375c0-1.036.84-1.875 1.875-1.875h.375a3.75 3.75 0 0 1 3.75 3.75v1.875C13.5 8.161 14.34 9 15.375 9h1.875A3.75 3.75 0 0 1 21 12.75v3.375C21 17.16 20.16 18 19.125 18h-9.75A1.875 1.875 0 0 1 7.5 16.125V3.375Z"}),o.createElement("path",{d:"M15 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 17.25 7.5h-1.875A.375.375 0 0 1 15 7.125V5.25ZM4.875 6H6v10.125A3.375 3.375 0 0 0 9.375 19.5H16.5v1.125c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V7.875C3 6.839 3.84 6 4.875 6Z"}))}const Ft=o.forwardRef(jt);function Ct({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5H9a3.75 3.75 0 0 1 3.75 3.75v1.875c0 1.036.84 1.875 1.875 1.875H16.5a3.75 3.75 0 0 1 3.75 3.75v7.875c0 1.035-.84 1.875-1.875 1.875H5.625a1.875 1.875 0 0 1-1.875-1.875V3.375c0-1.036.84-1.875 1.875-1.875ZM12.75 12a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V18a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V12Z",clipRule:"evenodd"}),o.createElement("path",{d:"M14.25 5.25a5.23 5.23 0 0 0-1.279-3.434 9.768 9.768 0 0 1 6.963 6.963A5.23 5.23 0 0 0 16.5 7.5h-1.875a.375.375 0 0 1-.375-.375V5.25Z"}))}const Et=o.forwardRef(Ct);function $t({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),o.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const Te=o.forwardRef($t);function Nt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625Z"}),o.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const qe=o.forwardRef(Nt);function At({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 0 1 1.5 18.375V5.625Zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5A.375.375 0 0 0 3 5.625Zm16.125-.375a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0 0 21 7.125v-1.5a.375.375 0 0 0-.375-.375h-1.5ZM21 9.375A.375.375 0 0 0 20.625 9h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5Zm0 3.75a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 0 0 .375-.375v-1.5ZM4.875 18.75a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375h1.5ZM3.375 15h1.5a.375.375 0 0 0 .375-.375v-1.5a.375.375 0 0 0-.375-.375h-1.5a.375.375 0 0 0-.375.375v1.5c0 .207.168.375.375.375Zm0-3.75h1.5a.375.375 0 0 0 .375-.375v-1.5A.375.375 0 0 0 4.875 9h-1.5A.375.375 0 0 0 3 9.375v1.5c0 .207.168.375.375.375Zm4.125 0a.75.75 0 0 0 0 1.5h9a.75.75 0 0 0 0-1.5h-9Z",clipRule:"evenodd"}))}const Ot=o.forwardRef(At);function Mt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M19.5 21a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3h-5.379a.75.75 0 0 1-.53-.22L11.47 3.66A2.25 2.25 0 0 0 9.879 3H4.5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h15Zm-6.75-10.5a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25v2.25a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25V10.5Z",clipRule:"evenodd"}))}const Rt=o.forwardRef(Mt);function St({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z"}))}const De=o.forwardRef(St);function kt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Tt=o.forwardRef(kt);function Dt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M19.952 1.651a.75.75 0 0 1 .298.599V16.303a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.403-4.909l2.311-.66a1.5 1.5 0 0 0 1.088-1.442V6.994l-9 2.572v9.737a3 3 0 0 1-2.176 2.884l-1.32.377a2.553 2.553 0 1 1-1.402-4.909l2.31-.66a1.5 1.5 0 0 0 1.088-1.442V5.25a.75.75 0 0 1 .544-.721l10.5-3a.75.75 0 0 1 .658.122Z",clipRule:"evenodd"}))}const Pt=o.forwardRef(Dt);function zt({title:t,titleId:n,...e},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},e),t?o.createElement("title",{id:n},t):null,o.createElement("path",{fillRule:"evenodd",d:"M1.5 6a2.25 2.25 0 0 1 2.25-2.25h16.5A2.25 2.25 0 0 1 22.5 6v12a2.25 2.25 0 0 1-2.25 2.25H3.75A2.25 2.25 0 0 1 1.5 18V6ZM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0 0 21 18v-1.94l-2.69-2.689a1.5 1.5 0 0 0-2.12 0l-.88.879.97.97a.75.75 0 1 1-1.06 1.06l-5.16-5.159a1.5 1.5 0 0 0-2.12 0L3 16.061Zm10.125-7.81a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Z",clipRule:"evenodd"}))}const de=o.forwardRef(zt);function Bt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Pe(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,i)}return e}function ze(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Pe(Object(e),!0).forEach(function(i){Bt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Pe(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function Lt(t,n){if(t==null)return{};var e={},i=Object.keys(t),l,u;for(u=0;u<i.length;u++)l=i[u],!(n.indexOf(l)>=0)&&(e[l]=t[l]);return e}function It(t,n){if(t==null)return{};var e=Lt(t,n),i,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(l=0;l<u.length;l++)i=u[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(e[i]=t[i])}return e}function Vt(t,n){return Zt(t)||Ht(t,n)||Ut(t,n)||qt()}function Zt(t){if(Array.isArray(t))return t}function Ht(t,n){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var e=[],i=!0,l=!1,u=void 0;try{for(var w=t[Symbol.iterator](),b;!(i=(b=w.next()).done)&&(e.push(b.value),!(n&&e.length===n));i=!0);}catch(g){l=!0,u=g}finally{try{!i&&w.return!=null&&w.return()}finally{if(l)throw u}}return e}}function Ut(t,n){if(t){if(typeof t=="string")return Be(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Be(t,n)}}function Be(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Le(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),e.push.apply(e,i)}return e}function Ie(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Le(Object(e),!0).forEach(function(i){Wt(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Le(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function Jt(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return function(i){return n.reduceRight(function(l,u){return u(l)},i)}}function ue(t){return function n(){for(var e=this,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length>=t.length?t.apply(this,l):function(){for(var w=arguments.length,b=new Array(w),g=0;g<w;g++)b[g]=arguments[g];return n.apply(e,[].concat(l,b))}}}function be(t){return{}.toString.call(t).includes("Object")}function Gt(t){return!Object.keys(t).length}function me(t){return typeof t=="function"}function Yt(t,n){return Object.prototype.hasOwnProperty.call(t,n)}function Kt(t,n){return be(n)||X("changeType"),Object.keys(n).some(function(e){return!Yt(t,e)})&&X("changeField"),n}function Xt(t){me(t)||X("selectorType")}function _t(t){me(t)||be(t)||X("handlerType"),be(t)&&Object.values(t).some(function(n){return!me(n)})&&X("handlersType")}function Qt(t){t||X("initialIsRequired"),be(t)||X("initialType"),Gt(t)&&X("initialContent")}function en(t,n){throw new Error(t[n]||t.default)}var tn={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},X=ue(en)(tn),we={changes:Kt,selector:Xt,handler:_t,initial:Qt};function nn(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};we.initial(t),we.handler(n);var e={current:t},i=ue(on)(e,n),l=ue(an)(e),u=ue(we.changes)(t),w=ue(rn)(e);function b(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(B){return B};return we.selector($),$(e.current)}function g($){Jt(i,l,u,w)($)}return[b,g]}function rn(t,n){return me(n)?n(t.current):n}function an(t,n){return t.current=Ie(Ie({},t.current),n),n}function on(t,n,e){return me(n)?n(t.current):Object.keys(e).forEach(function(i){var l;return(l=n[i])===null||l===void 0?void 0:l.call(n,t.current[i])}),e}var sn={create:nn},ln={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function cn(t){return function n(){for(var e=this,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length>=t.length?t.apply(this,l):function(){for(var w=arguments.length,b=new Array(w),g=0;g<w;g++)b[g]=arguments[g];return n.apply(e,[].concat(l,b))}}}function dn(t){return{}.toString.call(t).includes("Object")}function un(t){return t||Ve("configIsRequired"),dn(t)||Ve("configType"),t.urls?(fn(),{paths:{vs:t.urls.monacoBase}}):t}function fn(){console.warn(We.deprecation)}function mn(t,n){throw new Error(t[n]||t.default)}var We={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ve=cn(mn)(We),hn={config:un},pn=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return function(l){return e.reduceRight(function(u,w){return w(u)},l)}};function Je(t,n){return Object.keys(n).forEach(function(e){n[e]instanceof Object&&t[e]&&Object.assign(n[e],Je(t[e],n[e]))}),ze(ze({},t),n)}var xn={type:"cancelation",msg:"operation is manually canceled"};function $e(t){var n=!1,e=new Promise(function(i,l){t.then(function(u){return n?l(xn):i(u)}),t.catch(l)});return e.cancel=function(){return n=!0},e}var gn=sn.create({config:ln,isInitialized:!1,resolve:null,reject:null,monaco:null}),Ge=Vt(gn,2),he=Ge[0],je=Ge[1];function wn(t){var n=hn.config(t),e=n.monaco,i=It(n,["monaco"]);je(function(l){return{config:Je(l.config,i),monaco:e}})}function vn(){var t=he(function(n){var e=n.monaco,i=n.isInitialized,l=n.resolve;return{monaco:e,isInitialized:i,resolve:l}});if(!t.isInitialized){if(je({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),$e(Ne);if(window.monaco&&window.monaco.editor)return Ye(window.monaco),t.resolve(window.monaco),$e(Ne);pn(yn,jn)(Fn)}return $e(Ne)}function yn(t){return document.body.appendChild(t)}function bn(t){var n=document.createElement("script");return t&&(n.src=t),n}function jn(t){var n=he(function(i){var l=i.config,u=i.reject;return{config:l,reject:u}}),e=bn("".concat(n.config.paths.vs,"/loader.js"));return e.onload=function(){return t()},e.onerror=n.reject,e}function Fn(){var t=he(function(e){var i=e.config,l=e.resolve,u=e.reject;return{config:i,resolve:l,reject:u}}),n=window.require;n.config(t.config),n(["vs/editor/editor.main"],function(e){Ye(e),t.resolve(e)},function(e){t.reject(e)})}function Ye(t){he().monaco||je({monaco:t})}function Cn(){return he(function(t){var n=t.monaco;return n})}var Ne=new Promise(function(t,n){return je({resolve:t,reject:n})}),Ke={config:wn,init:vn,__getMonacoInstance:Cn},En={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Ae=En,$n={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Nn=$n;function An({children:t}){return ae.createElement("div",{style:Nn.container},t)}var On=An,Mn=On;function Rn({width:t,height:n,isEditorReady:e,loading:i,_ref:l,className:u,wrapperProps:w}){return ae.createElement("section",{style:{...Ae.wrapper,width:t,height:n},...w},!e&&ae.createElement(Mn,null,i),ae.createElement("div",{ref:l,style:{...Ae.fullWidth,...!e&&Ae.hide},className:u}))}var Sn=Rn,Xe=o.memo(Sn);function kn(t){o.useEffect(t,[])}var _e=kn;function Tn(t,n,e=!0){let i=o.useRef(!0);o.useEffect(i.current||!e?()=>{i.current=!1}:t,n)}var Z=Tn;function fe(){}function le(t,n,e,i){return Dn(t,i)||Pn(t,n,e,i)}function Dn(t,n){return t.editor.getModel(Qe(t,n))}function Pn(t,n,e,i){return t.editor.createModel(n,e,i?Qe(t,i):void 0)}function Qe(t,n){return t.Uri.parse(n)}function zn({original:t,modified:n,language:e,originalLanguage:i,modifiedLanguage:l,originalModelPath:u,modifiedModelPath:w,keepCurrentOriginalModel:b=!1,keepCurrentModifiedModel:g=!1,theme:$="light",loading:B="Loading...",options:R={},height:L="100%",width:z="100%",className:I,wrapperProps:O={},beforeMount:d=fe,onMount:h=fe}){let[N,W]=o.useState(!1),[J,M]=o.useState(!0),S=o.useRef(null),C=o.useRef(null),V=o.useRef(null),k=o.useRef(h),j=o.useRef(d),U=o.useRef(!1);_e(()=>{let x=Ke.init();return x.then(f=>(C.current=f)&&M(!1)).catch(f=>(f==null?void 0:f.type)!=="cancelation"&&console.error("Monaco initialization: error:",f)),()=>S.current?G():x.cancel()}),Z(()=>{if(S.current&&C.current){let x=S.current.getOriginalEditor(),f=le(C.current,t||"",i||e||"text",u||"");f!==x.getModel()&&x.setModel(f)}},[u],N),Z(()=>{if(S.current&&C.current){let x=S.current.getModifiedEditor(),f=le(C.current,n||"",l||e||"text",w||"");f!==x.getModel()&&x.setModel(f)}},[w],N),Z(()=>{let x=S.current.getModifiedEditor();x.getOption(C.current.editor.EditorOption.readOnly)?x.setValue(n||""):n!==x.getValue()&&(x.executeEdits("",[{range:x.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),x.pushUndoStop())},[n],N),Z(()=>{var x,f;(f=(x=S.current)==null?void 0:x.getModel())==null||f.original.setValue(t||"")},[t],N),Z(()=>{let{original:x,modified:f}=S.current.getModel();C.current.editor.setModelLanguage(x,i||e||"text"),C.current.editor.setModelLanguage(f,l||e||"text")},[e,i,l],N),Z(()=>{var x;(x=C.current)==null||x.editor.setTheme($)},[$],N),Z(()=>{var x;(x=S.current)==null||x.updateOptions(R)},[R],N);let q=o.useCallback(()=>{var m;if(!C.current)return;j.current(C.current);let x=le(C.current,t||"",i||e||"text",u||""),f=le(C.current,n||"",l||e||"text",w||"");(m=S.current)==null||m.setModel({original:x,modified:f})},[e,n,l,t,i,u,w]),oe=o.useCallback(()=>{var x;!U.current&&V.current&&(S.current=C.current.editor.createDiffEditor(V.current,{automaticLayout:!0,...R}),q(),(x=C.current)==null||x.editor.setTheme($),W(!0),U.current=!0)},[R,$,q]);o.useEffect(()=>{N&&k.current(S.current,C.current)},[N]),o.useEffect(()=>{!J&&!N&&oe()},[J,N,oe]);function G(){var f,m,y,Y;let x=(f=S.current)==null?void 0:f.getModel();b||((m=x==null?void 0:x.original)==null||m.dispose()),g||((y=x==null?void 0:x.modified)==null||y.dispose()),(Y=S.current)==null||Y.dispose()}return ae.createElement(Xe,{width:z,height:L,isEditorReady:N,loading:B,_ref:V,className:I,wrapperProps:O})}var Bn=zn;o.memo(Bn);function Ln(t){let n=o.useRef();return o.useEffect(()=>{n.current=t},[t]),n.current}var In=Ln,ve=new Map;function Vn({defaultValue:t,defaultLanguage:n,defaultPath:e,value:i,language:l,path:u,theme:w="light",line:b,loading:g="Loading...",options:$={},overrideServices:B={},saveViewState:R=!0,keepCurrentModel:L=!1,width:z="100%",height:I="100%",className:O,wrapperProps:d={},beforeMount:h=fe,onMount:N=fe,onChange:W,onValidate:J=fe}){let[M,S]=o.useState(!1),[C,V]=o.useState(!0),k=o.useRef(null),j=o.useRef(null),U=o.useRef(null),q=o.useRef(N),oe=o.useRef(h),G=o.useRef(),x=o.useRef(i),f=In(u),m=o.useRef(!1),y=o.useRef(!1);_e(()=>{let v=Ke.init();return v.then(E=>(k.current=E)&&V(!1)).catch(E=>(E==null?void 0:E.type)!=="cancelation"&&console.error("Monaco initialization: error:",E)),()=>j.current?pe():v.cancel()}),Z(()=>{var E,P,_,K;let v=le(k.current,t||i||"",n||l||"",u||e||"");v!==((E=j.current)==null?void 0:E.getModel())&&(R&&ve.set(f,(P=j.current)==null?void 0:P.saveViewState()),(_=j.current)==null||_.setModel(v),R&&((K=j.current)==null||K.restoreViewState(ve.get(u))))},[u],M),Z(()=>{var v;(v=j.current)==null||v.updateOptions($)},[$],M),Z(()=>{!j.current||i===void 0||(j.current.getOption(k.current.editor.EditorOption.readOnly)?j.current.setValue(i):i!==j.current.getValue()&&(y.current=!0,j.current.executeEdits("",[{range:j.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),j.current.pushUndoStop(),y.current=!1))},[i],M),Z(()=>{var E,P;let v=(E=j.current)==null?void 0:E.getModel();v&&l&&((P=k.current)==null||P.editor.setModelLanguage(v,l))},[l],M),Z(()=>{var v;b!==void 0&&((v=j.current)==null||v.revealLine(b))},[b],M),Z(()=>{var v;(v=k.current)==null||v.editor.setTheme(w)},[w],M);let Y=o.useCallback(()=>{var v;if(!(!U.current||!k.current)&&!m.current){oe.current(k.current);let E=u||e,P=le(k.current,i||t||"",n||l||"",E||"");j.current=(v=k.current)==null?void 0:v.editor.create(U.current,{model:P,automaticLayout:!0,...$},B),R&&j.current.restoreViewState(ve.get(E)),k.current.editor.setTheme(w),b!==void 0&&j.current.revealLine(b),S(!0),m.current=!0}},[t,n,e,i,l,u,$,B,R,w,b]);o.useEffect(()=>{M&&q.current(j.current,k.current)},[M]),o.useEffect(()=>{!C&&!M&&Y()},[C,M,Y]),x.current=i,o.useEffect(()=>{var v,E;M&&W&&((v=G.current)==null||v.dispose(),G.current=(E=j.current)==null?void 0:E.onDidChangeModelContent(P=>{y.current||W(j.current.getValue(),P)}))},[M,W]),o.useEffect(()=>{if(M){let v=k.current.editor.onDidChangeMarkers(E=>{var _;let P=(_=j.current.getModel())==null?void 0:_.uri;if(P&&E.find(K=>K.path===P.path)){let K=k.current.editor.getModelMarkers({resource:P});J==null||J(K)}});return()=>{v==null||v.dispose()}}return()=>{}},[M,J]);function pe(){var v,E;(v=G.current)==null||v.dispose(),L?R&&ve.set(u,j.current.saveViewState()):(E=j.current.getModel())==null||E.dispose(),j.current.dispose()}return ae.createElement(Xe,{width:z,height:I,isEditorReady:M,loading:g,_ref:U,className:O,wrapperProps:d})}var Zn=Vn,Hn=o.memo(Zn),Un=Hn;const qn=(t,n=2)=>{if(!t||t===0)return"0 Bytes";const e=1024,i=n<0?0:n,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],u=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,u)).toFixed(i))+" "+l[u]},Wn=t=>new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),ye={"text/":{icon:Te,canEdit:!0,editor:"monaco",viewable:!0},"application/json":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"application/javascript":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"application/x-yaml":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"text/x-java-properties":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"application/x-java-properties":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"text/plain":{icon:Te,canEdit:!0,editor:"monaco",viewable:!0},".properties":{icon:ie,canEdit:!0,editor:"monaco",viewable:!0},"image/":{icon:de,canEdit:!1,viewable:!1},"image/png":{icon:de,canEdit:!1,viewable:!1},"image/jpeg":{icon:de,canEdit:!1,viewable:!1},"image/gif":{icon:de,canEdit:!1,viewable:!1},"image/webp":{icon:de,canEdit:!1,viewable:!1},"audio/":{icon:Pt,canEdit:!1,viewable:!1},"video/":{icon:Ot,canEdit:!1,viewable:!1},"application/zip":{icon:se,canEdit:!1,viewable:!1},"application/x-tar":{icon:se,canEdit:!1,viewable:!1},"application/x-gzip":{icon:se,canEdit:!1,viewable:!1},"application/x-rar-compressed":{icon:se,canEdit:!1,viewable:!1},default:{icon:qe,canEdit:!1,viewable:!0}},Oe=t=>{var i;if(t.endsWith(".properties")||t==="text/x-java-properties"||t==="application/x-java-properties"||((i=t.split(".").pop())==null?void 0:i.toLowerCase())==="properties")return ye[".properties"];const e=Object.entries(ye).find(([l])=>t.startsWith(l));return e?e[1]:ye.default},Jn=t=>["application/zip","application/x-tar","application/x-gzip","application/x-rar-compressed"].includes(t),et=10*1024*1024,Gn=({toast:t})=>r.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:`fixed bottom-4 right-4 px-4 py-3 rounded-lg flex items-center space-x-2 
      ${t.type==="success"?"bg-stone-950 text-[#FFFFFF]":"bg-stone-950 text-[#EF4444] border border-stone-900"}`,children:[t.type==="success"?r.jsx(Me,{className:"w-4 h-4"}):r.jsx(Ue,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:t.message})]}),Ze=({checked:t,onChange:n,className:e=""})=>r.jsx("label",{className:`inline-flex items-center cursor-pointer ${e}`,children:r.jsx("div",{className:`bg-stone-950 w-4 h-4 rounded border transition-colors flex items-center justify-center ${t?"bg-stone-950 border-stone-900":"border-stone-900 bg-stone-950"}`,onClick:i=>{i.stopPropagation(),n()},children:t&&r.jsx(Me,{className:"w-3 h-3 text-[#FFFFFF]"})})}),Yn=({file:t,position:n,onClose:e,onAction:i})=>{const l=o.useRef(null),[u,w]=o.useState(n),b=Oe(t.mime);o.useEffect(()=>{const L=O=>{l.current&&O.target instanceof Node&&!l.current.contains(O.target)&&e()},z=()=>{if(l.current){const O=l.current.getBoundingClientRect(),d={width:window.innerWidth,height:window.innerHeight};let h=n.x,N=n.y;h+O.width>d.width&&(h=Math.max(0,d.width-O.width-16)),N+O.height>d.height&&(N=Math.max(0,d.height-O.height-16)),w({x:h,y:N})}};document.addEventListener("mousedown",L);const I=setTimeout(z,10);return()=>{document.removeEventListener("mousedown",L),clearTimeout(I)}},[e,n]);const g=b.viewable&&b.canEdit&&t.size<et,$=t.readonly===!0,B=t.noDelete===!0,R=[...b.canEdit&&g?[{label:"Edit/View",icon:Se,action:"edit"}]:[],...Jn(t.mime)?[{label:"Extract",icon:se,action:"extract"}]:[],{label:"Download",icon:gt,action:"download"},{label:"Copy",icon:Ft,action:"copy"},{label:"Rename",icon:Se,action:"rename",disabled:$||B},{label:"Move",icon:yt,action:"move",disabled:$||B},{label:"Delete",icon:He,action:"delete",destructive:!0,disabled:B}];return r.jsx(H.div,{ref:l,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"fixed z-50 w-48 bg-stone-950 border border-stone-900 rounded-lg py-1",style:{top:u.y,left:u.x},children:R.map(({label:L,icon:z,action:I,disabled:O})=>r.jsxs("button",{onClick:()=>{O||i(I)},disabled:O,className:`w-full px-3 py-2 text-left flex items-center space-x-2 text-sm text-[#9CA3AF] hover:bg-stone-900
              ${O?"opacity-50 cursor-not-allowed":""}}`,children:[r.jsx(z,{className:"w-4 h-4 text-[#9CA3AF]"}),r.jsx("span",{children:L})]},I))})},nr=()=>{const{id:t}=ct(),n=dt(),[e,i]=o.useState(null),[l,u]=o.useState([]),[w,b]=o.useState([]),[g,$]=o.useState(new Set),[B,R]=o.useState(!0),[L,z]=o.useState(null),[I,O]=o.useState({}),[d,h]=o.useState(null),[N,W]=o.useState(null),[J,M]=o.useState([]),[S,C]=o.useState([]),[V,k]=o.useState(""),[j,U]=o.useState(!1),[q,oe]=o.useState(!1),G=o.useRef(null),x=o.useRef(0),f=o.useMemo(()=>l.join("/"),[l]);o.useEffect(()=>{const a=localStorage.getItem("token");(async()=>{if(t)try{R(!0);const c=await fetch(`/api/servers/${t}`,{headers:{Authorization:`Bearer ${a}`}});if(!c.ok){const F=await c.json().catch(()=>null),T=(F==null?void 0:F.message)||"Failed to fetch server details";throw new Error(T)}const p=await c.json();i(p),z(null)}catch(c){console.error("Error fetching server details:",c);const p=c instanceof Error?c.message:"Failed to load server details";z(p)}finally{R(!1)}})()},[t]);const m=o.useCallback((a,s="success")=>{const c=Math.random().toString(36);M(p=>[...p,{id:c,message:a,type:s}]),setTimeout(()=>{M(p=>p.filter(F=>F.id!==c))},3e3)},[]),y=o.useCallback(async()=>{if(e)try{R(!0),z(null);const a=await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/list/${f}?showHidden=${q}`,{headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}});let s=null;if(a.ok)s=await a.json(),b(s.contents||[]);else{let c="";try{const p=await a.json();c=(p==null?void 0:p.message)||"Failed to fetch directory contents"}catch{c=await a.text()}m(c,"error"),b([])}}catch(a){console.error("Error fetching files:",a);const s=a instanceof Error?a.message:"Failed to fetch files";z(s),m(s,"error"),b([])}finally{R(!1)}},[e,f,q,m]),Y=o.useCallback(async a=>{if(!e)return"";try{const s=await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/contents/${f}/${a.name}`,{headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}});if(!s.ok){const c=await s.json().catch(()=>null),p=(c==null?void 0:c.message)||`Failed to fetch contents of ${a.name}`;throw new Error(p)}return await s.text()}catch(s){console.error("Error fetching file contents:",s);const c=s instanceof Error?s.message:`Failed to load contents of ${a.name}`;return m(c,"error"),""}},[e,f,m]),pe=o.useCallback(async a=>{if(!(!e||!a))try{R(!0),z(null);const s=await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/search?query=${encodeURIComponent(a)}&path=${encodeURIComponent(f)}&showHidden=${q}`,{headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}});if(!s.ok){const p=await s.json().catch(()=>null),F=(p==null?void 0:p.message)||"Failed to search files";throw new Error(F)}const c=await s.json();b(c.results||[])}catch(s){console.error("Error searching files:",s);const c=s instanceof Error?s.message:"Failed to search files";z(c),m(c,"error"),b([])}finally{R(!1)}},[e,f,q,m]),v=o.useCallback(async(a,s)=>{if(e)try{switch(a){case"edit":{if(!(Oe(s.mime).canEdit||s.name.endsWith(".properties"))){m("This file type cannot be edited","error");break}const F=await Y(s);h({type:"file-editor",data:{file:s,content:F}});break}case"extract":{if(O(p=>({...p,extract:!0})),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/extract/${f}`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({file:s.name})})).ok)throw new Error("Failed to extract archive");m(`Extracted ${s.name}`),await y(),O(p=>({...p,extract:!1}));break}case"delete":{if(s.noDelete){m(`Cannot delete protected file: ${s.name}`,"error");break}if(O(p=>({...p,delete:!0})),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/delete/${f}/${s.name}`,{method:"DELETE",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}})).ok)throw new Error("Failed to delete file");m(`Deleted ${s.name}`),await y(),O(p=>({...p,delete:!1}));break}case"download":{const c=`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/download/${f}/${s.name}`,p=await fetch(c,{headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}});if(!p.ok)throw new Error("Failed to download file");const F=await p.blob(),T=window.URL.createObjectURL(F),D=document.createElement("a");D.href=T,D.download=s.name,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(T);break}case"rename":{if(s.readonly||s.noDelete){m(`Cannot rename protected file: ${s.name}`,"error");break}h({type:"rename",data:{file:s}});break}case"move":{if(s.readonly||s.noDelete){m(`Cannot move protected file: ${s.name}`,"error");break}h({type:"move",data:{file:s}});break}case"copy":{h({type:"move",data:{file:s,isCopy:!0}});break}}}catch{m(`Failed to ${a} ${s.name}`,"error")}finally{W(null)}},[e,f,Y,y,m]),E=o.useCallback(async a=>{if(e)try{if(h(c=>c?{...c,loading:!0}:null),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/write/${f}/${a}`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/octet-stream"},body:""})).ok)throw new Error("Failed to create file");m(`Created file ${a}`),h(null),await y()}catch{m("Failed to create file","error"),h(c=>c?{...c,loading:!1}:null)}},[e,f,y,m]),P=o.useCallback(async a=>{if(e)try{if(h(c=>c?{...c,loading:!0}:null),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/create-directory/${f}/${a}`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}})).ok)throw new Error("Failed to create folder");m(`Created folder ${a}`),h(null),await y()}catch{m("Failed to create folder","error"),h(c=>c?{...c,loading:!1}:null)}},[e,f,y,m]),_=o.useCallback(async(a,s)=>{if(e)try{h(T=>T?{...T,loading:!0}:null);const c=`${f}/${a.name}`,p=`${f}/${s}`;if(!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/rename`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({from:c,to:p})})).ok)throw new Error("Failed to rename file");m(`Renamed ${a.name} to ${s}`),h(null),await y()}catch{m("Failed to rename file","error"),h(p=>p?{...p,loading:!1}:null)}},[e,f,y,m]),K=o.useCallback(async(a,s,c=!1)=>{if(e)try{h(T=>T?{...T,loading:!0}:null);const p=`${f}/${a.name}`,F=`${s}/${a.name}`;if(c){if(!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/copy`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({from:p,to:F})})).ok)throw new Error("Failed to copy file");m(`Copied ${a.name} to ${s}`)}else{if(!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/rename`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({from:p,to:F})})).ok)throw new Error("Failed to move file");m(`Moved ${a.name} to ${s}`)}h(null),await y()}catch{m(`Failed to ${c?"copy":"move"} file`,"error"),h(F=>F?{...F,loading:!1}:null)}},[e,f,y,m]),tt=o.useCallback(async(a,s)=>{if(e)try{h(F=>F?{...F,loading:!0}:null);const c=`${f}/${a.name}`;if(!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/chmod`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({path:c,mode:s})})).ok)throw new Error("Failed to change permissions");m(`Changed permissions for ${a.name}`),h(null),await y()}catch{m("Failed to change permissions","error"),h(p=>p?{...p,loading:!1}:null)}},[e,f,y,m]),nt=o.useCallback(async()=>{if(!e||g.size===0||!confirm(`Are you sure you want to delete ${g.size} items?`))return;O(s=>({...s,massDelete:!0}));let a=!0;for(const s of g)try{(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/delete/${f}/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`}})).ok||(a=!1,m(`Failed to delete ${s}`,"error"))}catch{a=!1,m(`Failed to delete ${s}`,"error")}a&&m(`Deleted ${g.size} items`),$(new Set),await y(),O(s=>({...s,massDelete:!1}))},[e,f,g,y,m]),Fe=o.useCallback(async a=>{if(!e)return;const s=Array.from(a).map(c=>({file:c,progress:0,status:"pending"}));C(c=>[...c,...s]);for(const c of s){const p=new FormData;p.append("files",c.file);try{if(C(T=>T.map(D=>D.file===c.file?{...D,status:"uploading",progress:10}:D)),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/upload/${f}`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`},body:p})).ok)throw new Error("Upload failed");C(T=>T.map(D=>D.file===c.file?{...D,status:"complete",progress:100}:D)),m(`Uploaded ${c.file.name}`)}catch{C(T=>T.map(D=>D.file===c.file?{...D,status:"error",error:"Upload failed"}:D)),m(`Failed to upload ${c.file.name}`,"error")}}await y(),setTimeout(()=>{C(c=>c.filter(p=>p.status==="pending"||p.status==="uploading"))},3e3)},[e,f,y,m]),rt=o.useCallback(async a=>{if(!(!e||g.size===0))try{if(h(c=>c?{...c,loading:!0}:null),!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/compress`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/json"},body:JSON.stringify({files:Array.from(g).map(c=>`${f}/${c}`),destination:`${f}/${a}.zip`})})).ok)throw new Error("Failed to create archive");m("Archive created successfully"),h(null),$(new Set),await y()}catch{m("Failed to create archive","error"),h(c=>c?{...c,loading:!1}:null)}},[e,f,g,y,m]),at=o.useCallback(async(a,s)=>{if(!e)return!1;try{if(!(await fetch(`http://${e.node.fqdn}:${e.node.port}/api/v1/filesystem/${e.internalId}/write/${f}/${a.name}`,{method:"POST",headers:{Authorization:`Bearer ${e==null?void 0:e.validationToken}`,"Content-Type":"application/octet-stream"},body:s})).ok)throw new Error("Failed to save file");return m("File saved successfully"),!0}catch{return m("Failed to save file","error"),!1}},[e,f,m]),Ce=o.useCallback(a=>{a.preventDefault(),a.stopPropagation(),a.type==="dragenter"?x.current+=1:a.type==="dragleave"&&(x.current-=1),a.type==="dragenter"&&x.current===1?U(!0):a.type==="dragleave"&&x.current===0&&U(!1)},[]),ot=o.useCallback(a=>{a.preventDefault(),a.stopPropagation(),x.current=0,U(!1);const{files:s}=a.dataTransfer;s!=null&&s.length&&Fe(s)},[Fe]),it=o.useCallback(()=>{g.size===w.length?$(new Set):$(new Set(w.map(a=>a.name)))},[w,g.size]),st=o.useCallback(a=>{$(s=>{const c=new Set(s);return c.has(a)?c.delete(a):c.add(a),c})},[]);o.useEffect(()=>{e&&l.length>=0&&y()},[e,l,y]),o.useEffect(()=>{if(V.trim().length>2){const a=setTimeout(()=>{pe(V)},500);return()=>clearTimeout(a)}else e&&V.trim().length===0&&l.length>0&&y()},[V,e,l,pe,y]);const xe=o.useMemo(()=>[...w].sort((a,s)=>a.isFile!==s.isFile?a.isFile?1:-1:a.name.localeCompare(s.name)),[w]),ge=o.useCallback(a=>{u(a),k("")},[]),lt=o.useCallback(()=>{l.length>0&&ge(l.slice(0,-1))},[l,ge]);if(!e&&B)return r.jsx("div",{className:"bg-white flex items-center justify-center min-h-screen",children:r.jsx(Re,{})});if(L)throw new Error(L);return e||n("/unauthorized"),r.jsx("div",{className:"card bg-stone-950 min-h-screen p-6",onDragEnter:Ce,onDragLeave:Ce,onDragOver:Ce,onDrop:ot,children:r.jsxs("div",{className:"flex flex-col h-full max-w-[1500px] mx-auto",children:[r.jsx(ce,{children:J.map(a=>r.jsx(Gn,{toast:a},a.id))}),r.jsx(ce,{children:j&&r.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-stone-950/50 flex items-center justify-center z-50",children:r.jsxs(H.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-stone-950 border border-stone-900 rounded-xl p-8 text-center",children:[r.jsx(ke,{className:"w-12 h-12 text-[#9CA3AF] mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-[#FFFFFF] mb-4",children:"Drop files to upload"}),r.jsx("p",{className:"text-sm text-[#9CA3AF] mt-1",children:"Files will be uploaded to current directory"})]})})}),r.jsx(ce,{children:g.size>0&&r.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-stone-950 border border-stone-900 rounded-lg px-4 py-3 flex items-center gap-2 shadow-lg",children:[r.jsxs("span",{className:"text-sm font-medium text-[#FFFFFF] mr-2",children:[g.size," ",g.size===1?"item":"items"," selected"]}),r.jsx(A,{variant:"secondary",size:"sm",onClick:()=>h({type:"compress"}),disabled:I.compress,icon:r.jsx(se,{className:"w-4 h-4 mr-1.5"}),children:I.compress?"Creating...":"Create Archive"}),r.jsx(A,{variant:"danger",size:"sm",onClick:nt,disabled:I.massDelete,icon:r.jsx(He,{className:"w-4 h-4 mr-1.5"}),children:I.massDelete?"Deleting...":"Delete"}),r.jsx(A,{variant:"secondary",size:"sm",onClick:()=>$(new Set),icon:r.jsx(ut,{className:"w-4 h-4 mr-1.5"}),children:"Clear Selection"})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center text-sm text-[#9CA3AF] mb-4",children:[r.jsx("button",{onClick:()=>n("/servers"),className:"transition-colors duration-100",children:"Servers"}),r.jsx(Ee,{className:"w-4 h-4 mx-1"}),r.jsx("button",{onClick:()=>n(`/servers/${t}`),className:"transition-colors duration-100",children:e==null?void 0:e.name}),r.jsx(Ee,{className:"w-4 h-4 mx-1"}),r.jsx("span",{className:"text-[#FFFFFF] font-medium",children:"Files"})]}),r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("h1",{className:"text-xl font-semibold text-[#FFFFFF] mr-4",children:"Files"}),L&&r.jsxs(H.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center px-3 py-1.5 text-xs text-[#EF4444] bg-stone-950 border border-stone-900 rounded-md",children:[r.jsx(Ue,{className:"w-3.5 h-3.5 mr-1.5"}),L]})]})})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:lt,disabled:l.length===0,className:`p-2 text-[#9CA3AF] transition-colors duration-100
                ${l.length===0?"opacity-50 cursor-not-allowed":"hover:text-[#FFFFFF]"}`,children:r.jsx(mt,{className:"w-4 h-4"})}),r.jsx(A,{onClick:()=>ge([]),variant:"secondary",size:"xs",children:"home"}),l.map((a,s)=>r.jsxs(ae.Fragment,{children:[r.jsx(Ee,{className:"w-4 h-4 text-gray-400"}),r.jsx(A,{onClick:()=>ge(l.slice(0,s+1)),variant:"secondary",size:"xs",children:a})]},s))]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",value:V,onChange:a=>k(a.target.value),placeholder:"Search...",className:`w-full pl-9 pr-3 py-1 rounded-md bg-stone-950 border border-stone-900
                    text-sm text-[#FFFFFF]
                    focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900
                    transition-colors duration-200`}),r.jsx(Tt,{className:"w-4 h-4 text-[#9CA3AF] absolute left-3 top-1/2 transform -translate-y-1/2"})]}),r.jsx(A,{variant:"secondary",size:"sm",icon:r.jsx(ft,{className:"w-4 h-4"}),onClick:()=>oe(a=>!a),children:q?"Hide Hidden Files":"Show Hidden Files"}),r.jsx(A,{variant:"secondary",size:"sm",icon:r.jsx(Et,{className:"w-4 h-4"}),onClick:()=>h({type:"new-file"}),children:"New File"}),r.jsx(A,{variant:"secondary",size:"sm",icon:r.jsx(Rt,{className:"w-4 h-4"}),onClick:()=>h({type:"new-folder"}),children:"New Folder"}),r.jsxs(A,{variant:"secondary",size:"sm",icon:r.jsx(ke,{className:"w-4 h-4"}),onClick:()=>{var a;return(a=G.current)==null?void 0:a.click()},children:["Upload",r.jsx("input",{ref:G,type:"file",multiple:!0,onChange:a=>{var s;(s=a.target.files)!=null&&s.length&&(Fe(a.target.files),a.target.value="")},className:"hidden"})]})]})]}),r.jsx(ce,{children:S.length>0&&r.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-2",children:S.map((a,s)=>r.jsxs("div",{className:"mt-4 flex items-center justify-between bg-stone-950 border border-stone-900 px-4 py-2 rounded-md",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qe,{className:"w-4 h-4 text-[#9CA3AF]"}),r.jsx("span",{className:"text-sm text-[#9CA3AF]",children:a.file.name})]}),r.jsx("div",{className:"flex items-center space-x-2",children:a.error?r.jsx("span",{className:"text-xs text-[#EF4444]",children:a.error}):a.status==="complete"?r.jsx(H.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},children:r.jsx(Me,{className:"w-4 h-4 text-[#10B981]"})}):r.jsx("div",{className:"w-32 h-1 bg-stone-950 rounded-full overflow-hidden",children:r.jsx(H.div,{className:"h-full bg-stone-950",initial:{width:0},animate:{width:`${a.progress}%`},transition:{duration:.1}})})})]},s))})}),B?r.jsx("div",{className:"flex items-center justify-center h-[400px]",children:r.jsx(Re,{})}):r.jsx(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-stone-950 border border-stone-900 rounded-xl overflow-hidden mt-6",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"w-12 px-4 py-3 text-left",children:r.jsx(Ze,{checked:g.size===xe.length&&xe.length>0,onChange:it})}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Size"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Modified"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-[#9CA3AF] uppercase tracking-wider",children:"Permissions"}),r.jsx("th",{className:"w-12"})]})}),r.jsxs("tbody",{className:"divide-y divide-stone-900",children:[xe.map(a=>{const s=Oe(a.mime),c=a.isFile?s.icon:De,p=s.canEdit||!s.canEdit&&a.size<et;return r.jsxs(H.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`${p||!a.isFile?"cursor-pointer":""} 
                      hover:stone-900 transition-colors duration-100 ${a.hidden?"bg-stone-950":""}`,onClick:()=>{p&&a.isFile?v("edit",a):a.isFile||u([...l,a.name])},children:[r.jsx("td",{className:"px-4 py-3",onClick:F=>F.stopPropagation(),children:r.jsx(Ze,{checked:g.has(a.name),onChange:()=>st(a.name)})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(c,{className:`w-4 h-4 ${a.isFile?a.mime.startsWith("image/")?"text-[#F59E0B]":a.mime.startsWith("text/")||a.mime.includes("javascript")||a.mime.includes("json")?"text-[#10B981]":a.mime.includes("pdf")?"text-[#EF4444]":a.mime.startsWith("audio/")?"text-[#F59E0B]":a.mime.startsWith("video/")?"text-[#EF4444]":a.mime.includes("zip")||a.mime.includes("tar")||a.mime.includes("compress")?"text-[#F59E0B]":"text-[#9CA3AF]":"text-[#8146ab]"}`}),r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"text-sm text-[#FFFFFF]",children:[a.name,a.hidden&&r.jsx("span",{className:"ml-2 text-xs text-[#9CA3AF]",children:"(hidden)"})]}),(a.readonly||a.noDelete)&&r.jsxs("span",{className:"text-xs text-[#9CA3AF]",children:[a.readonly&&"Read-only",a.readonly&&a.noDelete&&" • ",a.noDelete&&"Protected"]})]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-[#9CA3AF]",children:qn(a.size)}),r.jsx("td",{className:"px-4 py-3 text-sm text-[#9CA3AF]",children:Wn(a.modifiedAt)}),r.jsx("td",{className:"px-4 py-3 text-sm text-[#9CA3AF]",children:a.mode}),r.jsx("td",{className:"px-4 py-3 text-right",children:r.jsx("button",{onClick:F=>{F.stopPropagation(),W({file:a,position:{x:F.clientX,y:F.clientY}})},className:"p-1 text-[#9CA3AF] cursor-pointer",children:r.jsx(ht,{className:"w-4 h-4"})})})]},a.name)}),xe.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-4 py-8 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-[#9CA3AF]",children:[r.jsx(De,{className:"w-8 h-8 mb-2 text-[#9CA3AF]"}),r.jsx("p",{className:"text-sm",children:V?r.jsxs(r.Fragment,{children:['No files matching "',r.jsx("span",{className:"font-medium",children:V}),'"']}):"This folder is empty"})]})})})]})]})}),d&&d.type==="file-editor"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsx(ee,{className:"bg-stone-950 border border-stone-900 overflow-hidden max-w-[80vw] max-h-[80vh]",children:r.jsxs("div",{className:"flex flex-col h-full w-full",children:[r.jsx(te,{className:"flex",children:r.jsx(ne,{className:"text-lg font-semibold text-white mb-2",children:d.data.file.name})}),r.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[d.data.file.readonly&&r.jsx("span",{className:"text-xs text-[#EF4444] mb-2",children:"Read-only file"}),r.jsx("div",{className:"flex-1 overflow-hidden rounded-md",children:r.jsx(Un,{value:d.data.content,language:d.data.file.name.endsWith(".properties")?"properties":d.data.file.mime.split("/")[1]||"plaintext",theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:16,lineNumbers:"on",scrollBeyondLastLine:!1,wordWrap:"on",readOnly:d.data.file.readonly===!0,automaticLayout:!0,fixedOverflowWidgets:!0,scrollbar:{vertical:"hidden",horizontal:"hidden"}},height:"500px",width:"100%",onChange:a=>{h(s=>s?{...s,data:{...s.data,content:a}}:null)}})})]}),r.jsxs(re,{className:"flex items-center justify-end space-x-2 mt-4",children:[r.jsx(A,{variant:"outline",onClick:()=>h(null),children:"Cancel"}),!d.data.file.readonly&&r.jsx(A,{onClick:async()=>{h(s=>s?{...s,loading:!0}:null);const a=await at(d.data.file,d.data.content);h(a?null:s=>s?{...s,loading:!1}:null)},disabled:d.data.file.readonly||d.loading,isLoading:d.loading,children:"Save Changes"})]})]})})}),d&&d.type==="new-file"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsx(ne,{children:"Create New File"})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await E(s.get("name"))},className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",name:"name",placeholder:"File name",className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200",autoFocus:!0}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?"Creating...":"Create"})]})]})]})}),d&&d.type==="new-folder"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsx(ne,{children:"Create New Folder"})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await P(s.get("name"))},className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",name:"name",placeholder:"Folder name",className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200",autoFocus:!0}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?"Creating...":"Create"})]})]})]})}),d&&d.type==="rename"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsx(ne,{children:"Rename File"})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await _(d.data.file,s.get("name"))},className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",name:"name",defaultValue:d.data.file.name,placeholder:"File name",className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200",autoFocus:!0}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?"Renaming...":"Rename"})]})]})]})}),d&&d.type==="move"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsxs(ne,{children:[d.data.isCopy?"Copy":"Move"," ",d.data.file.name]})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await K(d.data.file,s.get("path"),d.data.isCopy)},className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",name:"path",defaultValue:l.length>0?l.join("/"):"/",className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200",autoFocus:!0}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?d.data.isCopy?"Copying...":"Moving...":d.data.isCopy?"Copy":"Move"})]})]})]})}),d&&d.type==="chmod"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsx(ne,{children:"Change Permissions"})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await tt(d.data.file,s.get("mode"))},className:"flex flex-col gap-4",children:[r.jsx("label",{className:"block text-sm font-medium text-[#9CA3AF] mb-1",children:"Permission Mode (Octal)"}),r.jsx("input",{type:"text",name:"mode",defaultValue:d.data.file.mode,className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200"}),r.jsx("div",{className:"text-xs text-[#9CA3AF] mt-1",children:"Examples: 644 (rw-r--r--), 755 (rwxr-xr-x), 777 (rwxrwxrwx)"}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?"Changing...":"Change"})]})]})]})}),d&&d.type==="compress"&&r.jsx(Q,{open:!0,onOpenChange:()=>h(null),children:r.jsxs(ee,{className:"bg-stone-950 border border-stone-900 max-w-sm",children:[r.jsx(te,{children:r.jsx(ne,{children:"Create Archive"})}),r.jsxs("form",{onSubmit:async a=>{a.preventDefault();const s=new FormData(a.currentTarget);await rt(s.get("name"))},className:"flex flex-col gap-4",children:[r.jsx("input",{type:"text",name:"name",placeholder:"Archive name (without .zip)",className:"w-full px-3 py-2 rounded-md bg-stone-950 border border-stone-900 text-sm text-[#FFFFFF] focus:outline-none focus:ring-1 focus:ring-stone-900 focus:border-stone-900 transition-colors duration-200"}),r.jsxs("div",{className:"mt-2 text-xs text-[#9CA3AF]",children:["Selected items: ",Array.from(g).join(", ")]}),r.jsxs(re,{children:[r.jsx(A,{variant:"outline",type:"button",onClick:()=>h(null),children:"Cancel"}),r.jsx(A,{type:"submit",isLoading:d.loading,children:d.loading?"Creating...":"Create Archive"})]})]})]})}),r.jsx(ce,{children:N&&r.jsx(Yn,{file:N.file,position:N.position,onClose:()=>W(null),onAction:a=>v(a,N.file)})})]})})};export{nr as default};
